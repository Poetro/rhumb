(function(){function r(r,n){var t={},i=function(r,n){var e=r.shift();if(!e)return n.leaf||!1;if(n.fixed&&e in n.fixed)return i(r,n.fixed[e]);if(n.partial){var f=n.partial,a=f.some(function(r){return r.ptn.test(e)?(n=r.node,!0):void 0});if(a)return i(r,n)}return n.var?(t[n.var.name]=e,i(r,n.var)):!1},e=i(r,n,t);return e?{fn:e,params:t}:!1}function n(){var n={},i={},e=function(r,n,t){var i,f=r.shift(),a=!!r.length;if(f)if("fixed"==f.type)n.fixed||(n.fixed={}),i=n.fixed[f.input]||(n.fixed[f.input]={}),a?e(r,i,t):i.leaf=t;else{if("var"!=f.type)throw Error("not yet!");i=n.var||(n.var={}),i.name=f.input.substr(1),a?e(r,i,t):i.leaf=t}};return n.add=function(r,n){e(t(r),i,n)},n.match=function(n){var t=n.split("/").filter(function(r){return!!r}),e=r(t,i);return e?e.fn.apply(e.fn,[e.params]):void 0},n}function t(r){var n=r.split("/").filter(function(r){return!!r}).map(function(r){var n=":"==r[0]?"var":"fixed";return{type:n,input:r}});return n}rhumb=n(),rhumb.create=n,rhumb.parse=t,rhumb._findInTree=r})();